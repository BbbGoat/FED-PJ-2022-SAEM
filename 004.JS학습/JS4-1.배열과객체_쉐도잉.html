<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS4-1. 배열변수와 객체</title>
    <style>
        h1 {
            text-align: center;
        }

        /* 정보출력박스 */
        .cont {
            width: 1000px;
            height: 80px;
            border: 2px solid #000;
            text-align: center;
            white-space: nowrap;
            line-height: 84px;
            margin: 5px auto;
            font-size: 24px;
        }
    </style>
    <!-- 영화객체 JS 불러오기 -->
    <script src="./JS4-1.배열과객체_object.js"></script>
    <!-- JS코드구역 -->
    <script>
        // 로드구역
        window.addEventListener("DOMContentLoaded", function(){
            console.log("야호");
            
            // 1. 출력대상 :.cont
            var tg = document.querySelectorAll(".cont");
            console.log("헤쳐모여",tg);


            // 1. 배열의 선언과 할당 (가장 기초적인 방법!)
            var arr1 = new Array(
                "1993년 10월 12일",
                "183cm",
                "67kg",
                "정글의법칙, 치인트",
                4567,
                "서강준"
            ); //// arr1 배열 /////
            
            // 출력대상
            tg[0].innerHTML = `
                이름: ${arr1[5]} /
                키: ${arr1[1]} /
                몸무게: ${arr1[2]} /
                대표작: ${arr1[3]}
            `;

            // 2. 리터럴방식으로 배열 선언 할당 해보기 (추천방식!)
            // 정적객체 (Static Object)
            var arr2 = [
                "삼일절",
                "태극기",
                1919,
                function(){
                    alert("대한독립만세!");
                } // 익명함수 할당도 가능! 오... 객체도 됨!
            ]; ///// arr2 배열 /////////

            console.log("arr2배열", arr2);

            // 출력대상
            tg[1].innerHTML = `
            ${arr2[0]}은 ${arr2[2]}년에 일제에 항거하여 ${arr2[1]}를 들고 일어난 민중봉기를 기념하는 날이다
            `;

            // 툴팁띄우기
            tg[1].title = "만세를 하시려면 클릭하세요!";

            // 손가락모양표시
            tg[1].style.cursor = "pointer";

            // 배열 함수 이벤트 연결 호출
            tg[1].onclick = arr2[3];


            // 3. 배열을 미리 생성하여 각각 할당하는 방법 (응용편)
            // 선언 먼저하기
            var arr3 = [];
            arr3.length = 8;

            console.log("arr3 배열변수: ", arr3);

            // 후에 값 할당하기
            arr3[0] = "산";
            arr3[1] = "할아버지";
            arr3[2] = "구름모자";
            arr3[3] = "썼네~!";
            arr3[4] = "나비같이";
            arr3[5] = "훨훨";
            arr3[6] = "훠얼훨";
            arr3[7] = "날아서!";

            // 배열값 전체 찍기 : valueOf()

            console.log(arr3.valueOf());
            console.log("arr3 배열 구분자로 문자찍기!", arr3.join("^"));
            // ->>> valueOf()는 브라우저에서 생략하고 변수명만 써도 바로 출력해줌
            // ->>> 메서드 join() 많이 쓰이므로 기억해두기!
            
            arr3.push("이거추가");
            // 배열 맨 뒤에 값 추가하는 메서드 push()

            tg[2].innerHTML = arr3.join("wow");

            /***********************************************
                [ 객체 ]
                - new Object()
                - 일반적으로 JS에서 객체란 속성과 메서드를
                가지는 프로그램 단위체
                - 속성은 명사적 특징, 메서드는 동사적 특징
                객체예)
                window : 윈도우(브라우저화면) 표시 관련객체
                document : 문서구조에 관련된 객체
                Array : 배열객체
                Object : 객체를 만들기 위한 객체
                Date : 날짜객체
                Math : 수학객체

                [ 객체의 할당 ]
                - 중괄호{}를 사용하여 할당코딩을 함
                - {속성명:값,속성명:값,...}
                - 여러값을 셋팅할때 콤마로 구분한다

                [ 객체의 호출 ]
                - 객체명[속성명]
                또는
                - 객체명.속성명

            ***********************************************/

            // 객체 선언
            var SSG = new Object({
                "너의 이름은?":"손석구",
                "생일":"1983년 2월 7일",
                "키":"178cm",
                "몸무게":"80kg",
                "혈액형":"C형",
                "성별":"남성",
                "대표작":"나의 해방일지, 범죄도시2",
                "소속사":"셋별당엔터",
                "비밀번호":7777,
                "팬레터":function(){
                    // 1. 메시지 띄우기
                    alert ("상남자오빠 화이팅");

                    // 스타일 변수
                    var sty = tg[3].style;

                    sty.background = "url(https://file.mk.co.kr/meet/neds/2022/05/image_readtop_2022_456627_16533579475052374.jpeg) repeat-x top/auto 100%";
                    sty.color = "#fff";
                    sty.textShadow = "0 0 5px #000";
                    sty.lineHeight = "84px";
                    sty.transform = "scale(1.2)";
                    sty.transition = "1s ease-out 1s";

                    tg[3].innerText = "손석구 최고 멋쟁이! 승승장구 화이팅!!!";
                } ///// SSG 메서드 ////

            }); /////// SSG 객체 ///////////

            // 객체 출력대상 : tg[3]
            tg[3].innerHTML = `
            당신이 좋아하는 남자배우는?
            ${SSG["너의 이름은?"]}
            / 몸무게를 아세요?
            ${SSG["몸무게"]} <br>
            생년월일은? 
            ${SSG["생일"]}
            / 대표작은? ${SSG["대표작"]}
            `;

            // 줄간격 조절
            tg[3].style.lineHeight = "40px";

            // SSG 객체에 셋팅된 메서드 호출하기
            tg[3].onclick = SSG["팬레터"];

            // title 속성 넣기
            tg[3].title = `
            여기를 클릭하여 ${SSG["너의 이름은?"]} 팬레터를 확인하세요! 
            `;
            // 손가락 표시
            tg[3].style.cursor = "pointer";

            /********************************************** 
                [ new 키워드 없이 바로 객체 생성하기 ] -> 추천방식!
                리터럴 방식으로 객체 생성하기

                1. 문자형 속성 - 따옴표로 싸는 방법
                예) let obj = {"나는나":"호호호","너는너":"하하하"}
                호출방법 - obj["나는나"]

                2. 변수형 속성 - 따옴표로 안싸는 방법
                예) let obj = {name:"김수현",tall:"186cm"};
                호출방법 - obj.name 혹은 obj["name"]
                !!!! obj[name] -> 에러남!

            **********************************************/
            // 객체 생성하기
            var GU = {
                name:"공유",
                tall:"184cm",
                weight:"74kg",
                comp:"매니지먼트숲",
                work:"도깨비, 부산행",
                msg:function(txt){
                    alert ("팬레터" + txt);

                    // 스타일 할당변수
                    var sty = tg[4].style;

                    sty.background = "url(https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Gong_Yoo_%28Sep_2016%29.png/250px-Gong_Yoo_%28Sep_2016%29.png) repeat-x top/auto 100%";
                    sty.color = "#fff";
                    sty.textShadow = "0 0 5px #000";
                    sty.lineHeight = "30px";
                    sty.height = "100px";
                    sty.paddingTop = "100px";
                    sty.transition = "1s ease-out 1s";
                    
                } /////// msg 메서드 ////////
            }; ///////// GU 객체 ////////////

            // GU 객체 호출하기
            tg[4].innerHTML = `
                저는 ${GU.name}입니다!
                몸무게는 비밀인데요 그래도 말씀드리자면
                ${GU["weight"]}입니다! ㅎㅎㅎ <br>
                제 대표작은 ${GU.work}입니다. <br>
                제 소속사는 ${GU["comp"]}입니다! 빠빠이
            `;

            tg[4].style.lineHeight = "24px";

            // 툴팁 띄우기
            tg[4].setAttribute("title",GU.name+"의 팬레터를 확인하세요!");
            // 손가락모양
            tg[4].style.cursor = "pointer";

            // 클릭시 GU 객체 메서드 호출하기
            // tg[4].onclick = function(){
            //     GU.msg
            // };
            tg[4].onclick = function(){
                GU.msg("\n전달할 내용입니다");
            }; //////// click 이벤트함수 //////////

            /******************************************** 
                [ 미션: 내가 만든 객체 ]
                1. 주제: 영화정보
                2. 조건: 객체변수명만 자신이 지은 이름 사용
                3. 객체를 쌤께 전송!
            ********************************************/

            // 우새미 객체
            var smObj = {
                // key, value 값 배열
                제목:"영웅",
                감독:"유제균",
                배우:"정성화,김고은",
                장르:"드라마,뮤지컬",
                관람가:"12세 관람가",
                예고편:function(){
                    playMv("K4KR4J-yBMw");
                } ////////// 예고편 메서드 ///////////
            }; ///////// smObj 객체 //////////////

            // 호출하기
            tg[5].style.lineHeight = "40px";
            tg[5].style.cursor = "poiner";

            // 내용 출력하기 함수로 변경!
            var expFn = function(){

                tg[5].innerHTML = `
                ♣영화명: ${smObj.제목}
                ♣감독: ${smObj["감독"]} <br>
                ♣배우: ${smObj.배우}
                ♣장르: ${smObj["장르"]}
                ♣등급: ${smObj.관람가}
                `;
                
                tg[5].title = `클릭하시면 ${smObj.제목} 예고편을 보실 수 있습니다!`;

                tg[5].onclick = smObj["예고편"];

            }; ///////////// expFn 함수 /////////////

            // 할당된 expFn 함수를 처음 실행호출!
            expFn();

            

            ///////////// 초이스 버튼 클릭시 동영상 변경 //////////////////

            var cho = document.querySelectorAll(".choice button");
            console.log(cho);

            // for문으로 버튼들을 click 이벤트에 할당하기
            for (var i = 0; i < cho.length; i++) {

                cho[i].onclick = function(){
                    var btxt = this.innerText;
                    // console.log(btxt);
                    // console.log(smObj);

                    // switch()문 사용해서 새로운 객체를 기존 객체에 할당하기
                    switch(btxt){
                        case "성우초이스" : smObj = SW_obj; break;
                        case "정찬초이스" : smObj = jcObj; break;
                        case "최소미초이스": smObj = somObj; break;
                        case "임수희초이스": smObj = SuheeObj; break;
                        case "임유정초이스": smObj = aladdin; break;
                    } //////// switch case 문 ////////

                    console.log("smObj가 이거로 변경되었다!", smObj);

                    expFn();
                    

                }; ///////////// click 이벤트함수 ///////////

            } //////// for 문 /////////
            

        }); ////////////// 브라우저 로드구역 ////////////////////////////////
        // -> 다른 영화객체에서 호출하고 있으므로
        // 로드 구역 바깥으로 옮겨서 전역함수로 변경함!
        /********************************************** 
            함수명: playMv
            기능: 영화예고편 화면에 띄우기
        **********************************************/
       var playMv = function(mvcode){
        var mvbx = document.querySelector("#mvbx");

        console.log("플레이어!", mvcode);
        mvbx.innerHTML = `
        <div id="mv">
            <!-- 유튜브 아이프레임 -->
            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/${mvcode}?autoplay=1" allow="autoplay" style="border:none";></iframe>
            <!-- 닫기버튼 -->
            <button class="cbtn">x</button>
        </div>
        `;

        // 삽입된 동영상박스 CSS 설정하기
        var mv = document.querySelector("#mv");
        var msy = mv.style;

        msy.position = "fixed";
        msy.top = "50%";
        msy.left = "50%";
        msy.transform = "translate(-50%,-50%)";
        msy.width = "700px";
        msy.height = "450px";
        msy.background = "#000";

        // 닫기버튼 CSS 셋팅하기
        var cbtn = document.querySelector(".cbtn");
        var csy = cbtn.style;

        csy.position = "absolute";
        csy.top = "0";
        csy.right = "-70px";
        csy.width = "50px";
        csy.height = "50px";
        csy.color = "#fff";
        csy.border = "none";
        csy.backgroundColor = "blue";
        csy.fonSize = "40px";
        csy.fontWeight = "bold";
        csy.borderRadius = "50%";
        csy.cursor = "pointer";
        csy.lineHeight = "50px";

        // 닫기버튼 클릭시 #mv 제거하기
        cbtn.onclick = function(){mv.remove();};
        // remove() 메서드 -> DOM에서 요소를 삭제함


       }; //////// playMv 전역 함수 ///////////
    </script>
</head>

<body>
    <h1>JS4-1. 배열변수와 객체</h1>

    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>
    <div class="cont"></div>

    <!-- 영화초이스 버튼박스 -->
    <div class="cont choice">
        <button>성우초이스</button>
        <button>정찬초이스</button>
        <button>최소미초이스</button>
        <button>임수희초이스</button>
        <button>임유정초이스</button>
    </div>

    <!-- 예고편 동영상용 박스 -->
    <aside id="mvbx"></aside>

</body>

</html>