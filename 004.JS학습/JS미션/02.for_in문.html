<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체를 위한 for문</title>
    <style>
        h1,.btns,.show{
            text-align: center;
        }
        button {
            font-size: 30px;
        }

        .minfo {
            display: flex;
            /* 자식요소 박스 옆으로 흐르게! */
            /* outline: 1px solid red; */
            width: 500px;
            margin: 0 auto;
        }

        .wrap {
            /* 플렉스박스 */
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 20px;
        }
        .cbx {
            margin: 10px;
            padding: 10px;
            border: 4px double gray;
            border-radius: 10px;
        }

        .photo img {
            height: 200px;
            margin-right: 20px;
        }

        /* 영화한마디 글자박스 */
        .showtit {
            /* display: none; */
            text-align: center;
        }

        .show span {
            display: inline-block;
            /* 가로,세로 등 디자인 적용+한줄에 나옴 */
            width: 30px;
            height: 30px;
            border-radius: 50%;
            /* 원 */
            border: 2px solid #d30000;
            background-color: #00f;
            font-size: 20px;
            color: #fff;

            /* 동그라미 박스 정중앙 */
            text-align: center;
            line-height: 30px;
        }
    </style>
    <script>

        /************************************************ 
            [미션:]
            영화정보를 모두 html형식에 맞도록 .wrap 요소에
            모두 출력하시오!(for in문을 사용하여 출력)
        ************************************************/



        /// 영화정보 객체 ////
        const mvi = {
            "조제": {
                "포스터": "https://movie-phinf.pstatic.net/20201116_276/1605491658399poUOC_JPEG/movie_image.jpg?type=m99_141_2",
                "제목": "조제",
                "개요": "멜로/로맨스, 드라마",
                "감독": "김종관",
                "출연": "한지민, 남주혁",
                "문구": "조제 보러 오세요"
            },
            "이웃사촌": {
                "포스터": "https://movie-phinf.pstatic.net/20201111_193/1605056611896fc6Ef_JPEG/movie_image.jpg?type=m99_141_2",
                "제목": "이웃사촌",
                "개요": "드라마, 코미디",
                "감독": "이환경",
                "출연": "정우, 김희원",
                "문구": "이웃을 사랑합시다"
            },
            "도굴": {
                "포스터": "https://movie-phinf.pstatic.net/20201104_45/160445535053439akc_JPEG/movie_image.jpg?type=m99_141_2",
                "제목": "도굴",
                "개요": "범죄",
                "감독": "박정배",
                "출연": "이제훈, 조우진, 신혜선, 임원희",
                "문구": "도굴은 범죄예요"
            }
        }; ///////////////// mvi 객체 //////////////////////

        //////////////////// 로드구역 ///////////////////////
        window.addEventListener("DOMContentLoaded", () => {

            console.log("로딩완료");

            /* DOM선택 함수 */
            // const qs = (x) => {document.querySelector(x)};
            // 함수원형 : () => {} 아래는 생략한 버전
            const qs = x => document.querySelector(x);
            const qsa = x => document.querySelectorAll(x);

            /* 
                선언적 함수로 만들면?
                function qs(x) {
                    return document.querySelector(x)
                }
            */

            /******************************************************** 
                [ 구현내용 ]
                - 해당 영화의 정보를 화면에 보여준다!
                - 변경대상: .tit, .sum, .dir, .act
                - 변경내용: 
                    for in 문으로 해당 클래스에 대응하는 데이터를 넣는다
                    대상의 각 내용에 맞게 객체로부터 정보를 셋팅함!
            ********************************************************/

            // 1. 대상변수 할당하기
            const wrap = qs(".wrap");

            // 2. for in문으로 객체만큼 돌아서 데이터 셋팅하기

            // 최종 태그 담는 변수
            let hcode = "";
            
            for (let x in mvi) { // x는 각 mvi객체의 속성

                console.log("속성명: ", x, "/값: ", mvi[x]);

                // 1-1. 해당 데이터 값 변수에 할당하기
                let data = mvi[x];
                
                // 1-2. 문구 데이터 따로 담기
                let txt = data["문구"];
                let newtxt = ""; // 문구 출력에 사용할 변수 선언!

                // 2. 문구 데이터 for of 돌리기
                for(let m of txt) { // m은 한글자씩 출력된 값
                    console.log("한글자씩:", m);
                    // 스페이스 문자일 경우 띄어쓰기 기호로!
                    if(m === " ") {
                        newtxt += "&nbsp;&nbsp;&nbsp;";
                    } /// if ///
                    else { // 그밖의 문자일 경우
                        newtxt += `<span>${m}</span>`;
                    } /// else ///    
                } //// for of문 //////////////////////////
            

                // 3. 출력할 태그변수에 대입연산자로 계속넣기
                hcode += `
                    <section class="cbx">
                        <div class="minfo">
                            <!-- 1. 포스터 -->
                            <div class="photo">
                                <img src="${data["포스터"]}" alt="${x}의 포스터">
                            </div>
                            <div class="cont">
                                <!-- 2. 제목 -->
                                <h2 class="tit">
                                    ★영화명: ${x}
                                </h2>
                                <!-- 3. 개요 -->
                                <h3 class="sum">
                                    ★장르: ${data["개요"]}
                                </h3>
                                <!-- 4. 감독 -->
                                <h3 class="dir">
                                    ★감독: ${data["감독"]}
                                </h3>
                                <!-- 5. 출연 -->
                                <h3 class="act">
                                    ★배우: ${data["출연"]}
                                </h3>
                            </div>
                        </div>
                        
            
                        <!-- 영화 한마디 -->
                        <h2 class="showtit">♥ 영화한마디!</h2>
                        <!-- 6. 문구 -->
                        <div class="show">
                            ${newtxt}
                        </div>
                    </section>
                    `; /////////// hcode변수 ///////////

            } /////// for in문 ////////

            // for in문 돌린값 최종 박스에 출력
            wrap.innerHTML = hcode;


            /************************************************* 
                [ 객체를 위한 for in 문 ]

                - 구문: 
                for(변수 in 객체){코드}

                - 작동원리:
                객체의 개수만큼 순서대로 속성명(key)과 속성값(value)을 가져옴

                - 변수는 객체의 속성명이다!

                - 객체의 값을 사용하려면 for in 문 안에
                    객체[변수] 로 쓰면됨!

            *************************************************/

            // 임시변수
            let temp = `
            <section class="cbx">
                <div class="minfo">
                    <!-- 1. 포스터 -->
                    <div class="photo"></div>
                    <div class="cont">
                        <!-- 2. 제목 -->
                        <h2 class="tit"></h2>
                        <!-- 3. 개요 -->
                        <h3 class="sum"></h3>
                        <!-- 4. 감독 -->
                        <h3 class="dir"></h3>
                        <!-- 5. 출연 -->
                        <h3 class="act"></h3>
                    </div>
                </div>
                
    
                <!-- 영화 한마디 -->
                <h2 class="showtit">♥ 영화한마디!</h2>
                <!-- 6. 문구 -->
                <div class="show"></div>
            </section>
            `;

        }); //////////////// 로드구역 ///////////////////////
        /////////////////////////////////////////////////////
    </script>
</head>

<body>
    <h1>영화정보 모두보기</h1>
    <!-- <div class="btns">
        <button>조제</button>
        <button>이웃사촌</button>
        <button>도굴</button>
    </div> -->

    <hr>

    <!-- 영화정보박스 -->
    <div class="wrap">
        
    </div>

    

</body>

</html>